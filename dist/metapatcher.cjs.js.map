{"version":3,"file":"metapatcher.cjs.js","sources":["../src/index.ts"],"sourcesContent":["export class Metapatcher {\n    features: MetapatcherFeatures[] = []\n\n    // all ids when setting meta tags will be prefixed with this to prevent collision with other tags\n    idPrefix = 'metapatcher'\n    idCounters = { preload: 0, prefetch: 0, preconnect: 0, dnsPrefetch: 0 }\n\n    // it uses memory instead of dom when dom is not available\n    isDomAvailable = typeof document !== 'undefined'\n    memory: string[] = []\n\n    htmlVoidElements = ['base', 'link', 'meta']\n\n    mimeTypesByExtension = {\n        'svg': 'image/svg+xml',\n        'png': 'image/png',\n        'jpg': 'image/jpeg',\n        'jpeg': 'image/jpeg',\n        'ico': 'image/x-icon',\n        'gif': 'image/gif',\n        'webp': 'image/webp',\n        'bmp': 'image/bmp'\n    }\n\n    reImageSizeFromStr = /[0-9]{2,3}x[0-9]{2,3}/g\n\n    appleTouchIconSizes = ['120x120', '180x180', '152x152', '167x167', '1024x1024']\n    webAppManifestIconSizes = ['72x72', '96x96', '128x128', '144x144', '152x152', '192x192', '384x384', '512x512']\n    msTilesNamingMap = {\n        '70x70': 'msapplication-square70x70logo',\n        '150x150': 'msapplication-square150x150logo',\n        '310x310': 'msapplication-square310x310logo',\n        '310x150': 'msapplication-wide310x150logo'\n    }\n\n    // all features except browserconfig.xml are enabled\n    constructor () {\n        this.features = ['structuredData', 'msTags', 'appleTags', 'openGraphTags', 'twitterTags', 'webAppManifest']\n        // disable default requests made by browsers\n        this.setMsApplicationConfig('none')\n    }\n\n    configure (features?: MetapatcherFeatures[], settings?: MetapatcherSettings) {\n        if (settings?.idPrefix) this.idPrefix = settings.idPrefix\n        if (features) this.features = features\n\n        if (this.features.includes('appleTags')) {\n            const id = this.idPrefix + '-apple-mobile-web-app-capable'\n            this.set('meta', { id, name: 'apple-mobile-web-app-capable', content: 'yes' })\n        }\n\n        if (this.features.includes('twitterTags')) {\n            const idTw = this.idPrefix + '-twitter-card'\n            this.set('meta', { id: idTw, name: 'twitter:card', content: 'summary' })\n        }\n    }\n\n    setIcons(list: string[]): this {\n        const msTileIconSizes = Object.keys(this.msTilesNamingMap)\n\n        for (const url of list) {\n            const mimeType = this.findMimeType(url)\n            const sizeMatches = url.match(this.reImageSizeFromStr)\n            const size = sizeMatches && sizeMatches.length > 0 ? sizeMatches[0] : undefined\n            if (!size || !mimeType) continue\n\n            if (this.features.includes('webAppManifest') && this.webAppManifestIconSizes.includes(size)) {\n                const idWam = this.idPrefix + '-icon-' + size + '-wam'\n                this.removeOne('link', { id: idWam })\n                this.set('link', { id: idWam, rel: 'icon', href: url, sizes: size, type: mimeType })\n            }\n\n            if (this.features.includes('appleTags') && this.appleTouchIconSizes.includes(size)) {\n                const idApple = this.idPrefix + '-icon-' + size + '-apple'\n                this.removeOne('link', { id: idApple })\n                this.set('link', { id: idApple, rel: 'apple-touch-icon', href: url, sizes: size })\n            }\n\n            if (this.features.includes('msTags') && msTileIconSizes.includes(size)) {\n                const idMs = this.idPrefix + '-icon-' + size + '-ms'\n                this.removeOne('meta', { id: idMs })\n                this.set('meta', { id: idMs, name: this.msTilesNamingMap[size as keyof typeof this.msTilesNamingMap], content: url })\n            }\n        }\n\n        return this\n    }\n\n    setPageDetails (params: MetapatcherPageParams): this {\n        if (params.title) this.setPageTitle(params.title)\n        if (params.description) this.setPageDescription(params.description)\n        if (params.path) this.setPageUrl(params.path)\n        if (params.image) this.setPageImage(params.image)\n        if (params.robots) this.setRobots(params.robots)\n        if (params.locale) this.setPageLocale(params.locale)\n        if (params.canonical) this.setCanonical(params.canonical)\n        if (params.localVersions) this.setLocalVersions(params.localVersions, params.locale ?? '')\n        if (params.breadcrumb) this.setBreadcrumb(params.breadcrumb)\n\n        return this\n    }\n\n    setPageTitle (title: string): this {\n        this.setDocumentTitle(title)\n\n        if (this.features.includes('openGraphTags')) {\n            const idOg = this.idPrefix + 'og-title'\n            this.removeOne('meta', { id: idOg })\n            this.set('meta', { id: idOg, property: 'og:title', content: title })\n        }\n\n        if (this.features.includes('twitterTags')) {\n            const idTw = this.idPrefix + 'tw-title'\n            this.removeOne('meta', { id: idTw })\n            this.set('meta', { id: idTw, name: 'twitter:title', content: title })\n        }\n\n        return this\n    }\n\n    setPageDescription (description: string): this {\n        const id = this.idPrefix + '-description'\n        this.removeOne('meta', { id: id })\n        this.set('meta', { id, name: 'description', content: description })\n\n        if (this.features.includes('openGraphTags')) {\n            const idOg = this.idPrefix + '-description-og'\n            this.removeOne('meta', { id: idOg })\n            this.set('meta', { id: idOg, property: 'og:description', content: description })\n        }\n\n        if (this.features.includes('twitterTags')) {\n            const idTw = this.idPrefix + '-description-tw'\n            this.removeOne('meta', { id: idTw })\n            this.set('meta', { id: idTw, name: 'twitter:description', content: description })\n        }\n\n        return this\n    }\n\n    setPageUrl (url: string): this {\n        if (this.features.includes('openGraphTags')) {\n            const idOg = this.idPrefix + '-url-og'\n            this.removeOne('meta', { id: idOg })\n            this.set('meta', { id: idOg, property: 'og:url', content: url })\n        }\n\n        return this\n    }\n\n    setPageImage (param: string | MetapatcherPageImage): this {\n        const img: MetapatcherPageImage = typeof param === 'string' ? { path: param } : param\n\n        if (this.features.includes('openGraphTags')) {\n            const idOg = this.idPrefix + '-image-og'\n            this.removeOne('meta', { id: idOg })\n            this.set('meta', { id: idOg, property: 'og:image', content: img.path })\n\n            const idOgw = this.idPrefix + '-image-w-og'\n            this.removeOne('meta', { id: idOgw })\n            if (img.width) {\n                this.set('meta', { id: idOgw, property: 'og:image:width', content: img.width.toString() })\n            }\n\n            const idOgh = this.idPrefix + '-image-h-og'\n            this.removeOne('meta', { id: idOgh })\n            if (img.height) {\n                this.set('meta', { id: idOgh, property: 'og:image:height', content: img.height.toString() })\n            }\n        }\n\n        if (this.features.includes('twitterTags')) {\n            const idTw = this.idPrefix + '-image-tw'\n            this.removeOne('meta', { id: idTw })\n            this.set('meta', { id: idTw, property: 'twitter:image', content: img.path })\n        }\n\n        return this\n    }\n\n    setPageLocale (locale: string) {\n        locale = locale.replace('_', '-')\n\n        if (this.isDomAvailable) {\n            document.documentElement.setAttribute('lang', locale)\n        }\n\n        if (this.features.includes('openGraphTags')) {\n            const id = this.idPrefix + '-locale-og'\n            this.removeOne('meta', { id: id })\n            this.set('meta', { id, property: 'og:locale', content: locale })\n        }\n    }\n\n    setProjectDetails (params: MetapatcherProjectParams): this {\n        if (params.favicon) this.setFavicon(params.favicon)\n        if (params.name) this.setProjectName(params.name)\n        if (params.url) this.setProjectUrl(params.url)\n        if (params.robots) this.setRobots(params.robots)\n        if (params.themeColor) this.setThemeColor(params.themeColor)\n        if (params.twitterSite) this.setTwitterSite(params.twitterSite)\n        if (params.safariPinnedTab) this.setSafariPinnedTab(params.safariPinnedTab)\n        if (params.icons) this.setIcons(params.icons)\n\n        if (this.features.includes('structuredData')) {\n            const id = this.idPrefix + '-project-org'\n            const json: Record<string, string | Record<string, string>> = {\n                '@context': 'https://schema.org',\n                '@type': 'Organization'\n            }\n            if (params.logo) json['logo'] = params.logo\n            if (params.url) json['url'] = params.url\n            if (params.name) json['name'] = params.name\n            if (params.email) json['email'] = params.email\n            if (params.phone) json['telephone'] = params.phone\n            if (params.description) json['description'] = params.description\n            if (params.image) json['image'] = params.image\n            if (params.legalName) json['legalName'] = params.legalName\n            if (params.address) {\n                json['address'] = {\n                    '@type': 'PostalAddress'\n                }\n                if (params.address.country) json['address']['addressCountry'] = params.address.country\n                if (params.address.region) json['address']['addressRegion'] = params.address.region\n                if (params.address.city) json['address']['addressLocality'] = params.address.city\n                if (params.address.postalCode) json['address']['postalCode'] = params.address.postalCode\n                if (params.address.street) json['address']['streetAddress'] = params.address.street\n            }\n            const _data = JSON.stringify(json)\n\n            this.removeOne('script', { id: id })\n            if (this.isDomAvailable) this.setJsonLdDom(id, _data)\n            else this.setJsonLdMemory(id, _data)\n        }\n\n        return this\n    }\n\n    setProjectName (name: string): this {\n        const idMs = this.idPrefix + '-project-name'\n        this.removeOne('meta', { id: idMs })\n        this.set('meta', { id: idMs, name: 'application-name', content: name })\n\n        if (this.features.includes('openGraphTags')) {\n            const idOg = this.idPrefix + '-project-name-og'\n            this.removeOne('meta', { id: idOg })\n            this.set('meta', { id: idOg, property: 'og:site_name', content: name })\n        }\n        else if (this.features.includes('appleTags')) {\n            const idApple = this.idPrefix + '-project-name-apple'\n            this.removeOne('meta', { id: idApple })\n            this.set('meta', { id: idApple, name: 'apple-mobile-web-app-title', content: name })\n        }\n\n        return this\n    }\n\n    setProjectUrl (url: string): this {\n        if (this.features.includes('msTags')) {\n            const id = this.idPrefix + '-project-url'\n            this.removeOne('meta', { id: id })\n            this.set('meta', { id, name: 'msapplication-starturl', content: url })\n        }\n        return this\n    }\n\n    setThemeColor (colorHexCode: string): this {\n        const id = this.idPrefix + '-theme-color'\n        this.removeOne('meta', { id: id })\n        this.set('meta', { id, name: 'theme-color', content: colorHexCode })\n\n        if (this.features.includes('msTags')) {\n            const idMs = this.idPrefix + '-theme-color-ms'\n            this.removeOne('meta', { id: idMs })\n            this.set('meta', { id: idMs, name: 'msapplication-TileColor', content: colorHexCode })\n        }\n\n        return this\n    }\n\n    setTwitterSite (username: string): this {\n        const id = this.idPrefix + '-twitter-site'\n        this.removeOne('meta', { id: id })\n        this.set('meta', { id, name: 'twitter:site', content: username })\n        return this\n    }\n\n    addDnsPrefetch (param: string | MetapatcherDnsPrefetchAttrs): this {\n        const id = this.idPrefix + '-dns-prefetch-' + this.idCounters.dnsPrefetch.toString()\n        this.idCounters.dnsPrefetch += 1\n        const attrs: MetapatcherDnsPrefetchAttrs = typeof param === 'string'\n            ? { id, rel: 'dns-prefetch', href: param }\n            : Object.assign({}, param, { id, rel: 'dns-prefetch' })\n        this.removeOne('link', { rel: 'dns-prefetch', href: attrs.href })\n        this.set('link', attrs)\n        return this\n    }\n\n    addPreconnect (param: string | MetapatcherPreconnectAttrs): this {\n        const id = this.idPrefix + '-preconnect-' + this.idCounters.preconnect.toString()\n        this.idCounters.preconnect += 1\n        const attrs: MetapatcherPreconnectAttrs = typeof param === 'string'\n            ? { id, rel: 'preconnect', href: param }\n            : Object.assign({}, param, { id, rel: 'preconnect' })\n        this.removeOne('link', { rel: 'preconnect', href: attrs.href })\n        this.set('link', attrs)\n        return this\n    }\n\n    addPrefetch (param: string | MetapatcherPrefetchAttrs): this {\n        const id = this.idPrefix + '-prefetch-' + this.idCounters.prefetch.toString()\n        this.idCounters.prefetch += 1\n        const attrs: MetapatcherPrefetchAttrs = typeof param === 'string'\n            ? { id, rel: 'prefetch', href: param }\n            : Object.assign({}, param, { id, rel: 'prefetch' })\n        this.removeOne('link', { rel: 'prefetch', href: attrs.href })\n        this.set('link', attrs)\n        return this\n    }\n\n    addPreload (param: string | MetapatcherPreloadAttrs): this {\n        const id = this.idPrefix + '-preload-' + this.idCounters.preload.toString()\n        this.idCounters.preload += 1\n        const attrs: MetapatcherPreloadAttrs = typeof param === 'string'\n            ? { id, rel: 'preload', href: param }\n            : Object.assign({}, param, { id, rel: 'preload' })\n        this.removeOne('link', { rel: 'preload', href: attrs.href })\n        this.set('link', attrs)\n        return this\n    }\n\n    setRobots(param: string | MetapatcherRobotsAttrs): this {\n        const id = this.idPrefix + '-robots'\n        const attrs: MetapatcherRobotsAttrs = typeof param === 'string'\n            ? { id, name: 'robots', content: param }\n            : Object.assign({}, param, { id, name: 'robots' })\n        this.removeOne('meta', { id })\n        this.set('meta', attrs)\n        return this\n    }\n\n    setDocumentTitle(title: string): this {\n        if (!this.isDomAvailable) {\n            const predicate = (line: string) => line.includes('<title>') && line.includes('</title>')\n            if (this.memory.some(predicate)) {\n                this.memory = this.memory.map((line) => predicate(line) ? `<title>${title}</title>` : line)\n            }\n            else this.memory.push(`<title>${title}</title>`)\n        }\n        else document.title = title\n        return this\n    }\n\n    setFavicon(param: string | MetapatcherFaviconAttrs): this {\n        const mime = this.findMimeType(typeof param === 'string' ? param : param.href)\n        if (!mime) return this\n\n        const id = this.idPrefix + '-favicon'\n        const attrs: MetapatcherFaviconAttrs = typeof param === 'string'\n            ? { id, rel: 'shortcut icon', href: param }\n            : Object.assign({}, param, { id, rel: 'shortcut icon' })\n\n        this.removeOne('link', { id })\n        this.set('link', attrs)\n        return this\n    }\n\n    setMsApplicationConfig (param: string | MetapatcherMsApplicationConfigAttrs) {\n        const id = this.idPrefix + '-msapplication-config'\n        const attrs: MetapatcherMsApplicationConfigAttrs = typeof param === 'string'\n            ? { id, name: 'msapplication-config', content: param }\n            : Object.assign({}, param, { id, name: 'msapplication-config' })\n        this.removeOne('meta', { id })\n        this.set('meta', attrs)\n        return this\n    }\n\n    setSafariPinnedTab(attrs: MetapatcherSafariPinnedTabAttrs): this {\n        const id = this.idPrefix + '-safari-pinned-tab'\n        const _attrs: MetapatcherSafariPinnedTabAttrs = Object.assign({}, attrs, { id, rel: 'mask-icon' })\n        this.removeOne('link', { id })\n        this.set('link', _attrs)\n        return this\n    }\n\n    setAppleStatusBarStyle (content: 'default' | 'black' | 'black-translucent' = 'default'): this {\n        const id = this.idPrefix + '-apple-status-bar-style'\n        this.removeOne('meta', { id })\n        this.set('meta', { id, name: 'apple-mobile-web-app-status-bar-style', content })\n        return this\n    }\n\n    setBreadcrumb (data: MetapatcherBreadcrumb[]): HTMLScriptElement | string {\n        if (!this.features.includes('structuredData')) return ''\n\n        const id = this.idPrefix + '-breadcrumb'\n        const json = {\n            '@context': 'https://schema.org',\n            '@type': 'BreadcrumbList',\n            'itemListElement': data.map(({title, url}, ind) => ({\n                '@type': 'ListItem',\n                'position': ind + 1,\n                'name': title,\n                'item': url\n            }))\n        }\n        const _data = JSON.stringify(json)\n\n        this.removeOne('script', { id })\n\n        return this.isDomAvailable ? this.setJsonLdDom(id, _data) : this.setJsonLdMemory(id, _data)\n    }\n\n    setJsonLdDom (id: string, data: string) {\n        const elem = document.createElement('script')\n        elem.id = id\n        elem.type = 'application/ld+json'\n        elem.text = data\n\n        document.head.insertBefore(elem, null)\n\n        return elem\n    }\n\n    setJsonLdMemory (id: string, data: string) {\n        const _data = `<script id=\"${id}\" type=\"application/ld+json\">${data}</script>`\n        this.memory.push(_data)\n        return _data\n    }\n\n    setCanonical (param: string | MetapatcherCanonicalLinkAttrs): this {\n        const id = this.idPrefix + '-canonical'\n        const attrs: MetapatcherCanonicalLinkAttrs = typeof param === 'string'\n            ? { id, rel: 'canonical', href: param }\n            : Object.assign({}, param, { id, rel: 'canonical' })\n\n        this.removeOne('link', { id })\n        this.set('link', attrs)\n\n        return this\n    }\n\n    setMeta (name: string, content: string): this {\n        this.removeOne('meta', { name })\n        this.set('meta', { name, content })\n\n        return this\n    }\n\n    setMobileVariant (param: string | MetapatcherMobileVariantLinkAttrs): this {\n        const id = this.idPrefix + '-mobile-variant'\n        const attrs: MetapatcherMobileVariantLinkAttrs = typeof param === 'string'\n            ? { id, rel: 'alternate', href: param, media: 'only screen and (max-width: 640px)' }\n            : Object.assign({}, param, { id, rel: 'alternate' })\n\n        this.removeOne('link', { id })\n        this.set('link', attrs)\n\n        return this\n    }\n\n    setLocalVersions (param: MetapatcherLocalVersionLinkAttrs[], currentLang = ''): this {\n        this.removeMany('link', { rel: 'alternate', hreflang: true })\n\n        if (this.features.includes('openGraphTags')) {\n            currentLang = currentLang.replace('_', '-')\n            this.removeMany('meta', { property: 'og:locale:alternate' })\n            this.removeOne('meta', { property: 'og:locale' })\n        }\n\n        for (const _attrs of param) {\n            const id = this.idPrefix + '-local-version-' + _attrs.hreflang\n            _attrs.hreflang = _attrs.hreflang.replace('_', '-')\n            const attrs: MetapatcherLocalVersionLinkAttrs = Object.assign({}, _attrs, { id, rel: 'alternate' })\n\n            this.set('link', attrs)\n\n            if (this.features.includes('openGraphTags')) {\n                const _id = this.idPrefix + '-local-version-og-' + _attrs.hreflang\n                const suffix = currentLang === _attrs.hreflang ? '' : ':alternate'\n                const __attrs = { id: _id, property: 'og:locale' + suffix, content: _attrs.hreflang.replace('-', '_') }\n                this.set('meta', __attrs)\n            }\n        }\n\n        return this\n    }\n\n    setJsonLd (id: string, data: Record<string, never>): HTMLScriptElement | string {\n        const str = JSON.stringify(data)\n        this.removeOne('script', { id })\n        return this.isDomAvailable ? this.setJsonLdDom(id, str) : this.setJsonLdMemory(id, str)\n    }\n\n    removeOne (tagName: string, attrs: Record<string, string>): this {\n        if (!this.isDomAvailable) {\n            const queries = [`<${tagName}`].concat(Object.keys(attrs).map((key) => `${key}=\"${attrs[key]}\"`))\n            this.memory = this.memory.filter((item) => !queries.every((query) => item.includes(query)))\n            return this\n        }\n\n        const params = Object.keys(attrs).reduce((memo: string, key: string) => {\n            memo += `[${key}=\"${attrs[key]}\"]`\n            return memo\n        }, '')\n        const query = `${tagName}${params}`\n\n        const elem = document.head.querySelector(query)\n        if (elem) {\n            elem.parentNode!.removeChild(elem)\n        }\n        return this\n    }\n\n    removeMany (tagName: string, attrs: Record<string, string | boolean>): this {\n        if (!this.isDomAvailable) {\n            const queries = [`<${tagName}`].concat(Object.keys(attrs).map((key) => typeof attrs[key] === 'boolean' ? `${key}` : `${key}=\"${attrs[key]}\"`))\n            this.memory = this.memory.filter((item) => !queries.every((query) => item.includes(query)))\n            return this\n        }\n\n        const params = Object.keys(attrs).reduce((memo: string, key: string) => {\n            memo += typeof attrs[key] === 'boolean' ? `[${key}]` : `[${key}=\"${attrs[key]}\"]`\n            return memo\n        }, '')\n        const query = `${tagName}${params}`\n\n        const elems = document.head.querySelectorAll(query)\n        if (elems && elems.length > 0) {\n            elems.forEach((elem) => {\n                elem.parentNode!.removeChild(elem)\n            })\n        }\n        return this\n    }\n\n    dump(): string {\n        if (this.isDomAvailable) return ''\n\n        return this.memory.join('\\n')\n    }\n\n    flushMemory(): this {\n        this.memory = []\n        return this\n    }\n\n    set (tagName: string, attrs: MetapatcherHtmlTagAttrs = {}, settings?: MetapatcherSetSettings): string | HTMLElement {\n        tagName = tagName.toLowerCase()\n\n        const isVoid = settings && Object.hasOwn(settings, 'void') ? settings.void! : this.htmlVoidElements.includes(tagName)\n\n        return this.isDomAvailable\n            ? this.setDom(tagName, attrs, { void: isVoid })\n            : this.setMemory(tagName, attrs, { void: isVoid })\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setDom (tagName: string, attrs: MetapatcherHtmlTagAttrs = {}, _settings: MetapatcherSetSettings): HTMLElement {\n        const elem = document.createElement(tagName)\n\n        this.setElementAttrs(elem, attrs)\n\n        document.head.insertBefore(elem, null)\n\n        return elem\n    }\n\n    setMemory (tagName: string, attrs: MetapatcherHtmlTagAttrs = {}, settings: MetapatcherSetSettings): string {\n        const closingTag = settings.void ? ` />` : `></${tagName}>`\n        const html = `<${tagName}${this.serializeAttrs(attrs)}${closingTag}`\n        this.memory.push(html)\n        return html\n    }\n\n    setElementAttrs (elem: HTMLElement, attrs: MetapatcherHtmlTagAttrs = {}) {\n        for (const name of Object.keys(attrs)) {\n            const v = attrs[name]!\n            if (typeof v === 'string') elem.setAttribute(name, v)\n            else if (v === true) elem.setAttribute(name, '')\n        }\n    }\n\n    async setScript (attrs: MetapatcherSetJsAttrs, settings: MetapatcherSetJsSettings = {}): Promise<HTMLScriptElement | string> {\n        attrs = Object.assign({}, { type: 'text/javascript' }, attrs)\n        settings = Object.assign({}, { location: 'headEnd', waitForLoad: '', timeout: 10000 }, settings)\n\n        return new Promise((resolve, reject) => {\n            if (!this.isDomAvailable) {\n                return resolve(this.setMemory('script', attrs, { void: this.htmlVoidElements.includes('script') }))\n            }\n\n            const timeout = setTimeout(() => {\n                reject(new Error('Timeout.'))\n            }, settings.timeout)\n\n            const elem = document.createElement('script')\n\n            const { src, ...rest } = attrs\n            this.setElementAttrs(elem, rest)\n\n            function onDone () {\n                clearTimeout(timeout)\n\n                if (settings.waitForLoad!.length === 0) {\n                    return resolve(elem)\n                }\n                else {\n                    const interval = setInterval(() => {\n                        if (Object.hasOwn(window, settings.waitForLoad!)) {\n                            clearInterval(interval)\n                            return resolve(elem)\n                        }\n                    }, 100)\n                }\n            }\n\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            function onError (_event: Event) {\n                clearTimeout(timeout)\n                reject(new Error('Error loading resource'))\n            }\n\n            elem.addEventListener('load', onDone)\n            elem.addEventListener('error', onError)\n\n            elem.src = src\n\n            if (settings.location === 'headEnd') document.head.insertBefore(elem, null)\n            else if (settings.location === 'bodyEnd') document.body.insertBefore(elem, null)\n            else if (settings.location === 'bodyStart') document.body.insertBefore(elem, document.body.firstChild)\n            else document.body.insertBefore(elem, null)\n        })\n    }\n\n    async setStylesheet (attrs: MetapatcherSetStylesheetAttrs, settings: MetapatcherSetStylesheetSettings = {}): Promise<HTMLLinkElement | string> {\n        attrs = Object.assign({}, { rel: 'stylesheet' }, attrs)\n        settings = Object.assign({}, { location: 'headEnd', timeout: 10000 }, settings)\n\n        return new Promise((resolve, reject) => {\n            if (!this.isDomAvailable) {\n                return resolve(this.setMemory('link', attrs, { void: this.htmlVoidElements.includes('link') }))\n            }\n\n            const timeout = setTimeout(() => {\n                reject(new Error('Timeout.'))\n            }, settings.timeout)\n\n            const elem = document.createElement('link')\n\n            const { href, ...rest } = attrs\n            this.setElementAttrs(elem, Object.assign({}, rest, { media: 'only x' }))\n\n            function onDone () {\n                elem.media = attrs.media ?? 'all'\n                clearTimeout(timeout)\n                return resolve(elem)\n            }\n\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            function onError (_event: Event) {\n                clearTimeout(timeout)\n                return reject(new Error('Error loading resource'))\n            }\n\n            elem.addEventListener('load', onDone)\n            elem.addEventListener('error', onError)\n\n            elem.href = href\n\n            if (settings.location === 'headEnd') document.head.insertBefore(elem, null)\n            else if (settings.location === 'bodyEnd') document.body.insertBefore(elem, null)\n            else if (settings.location === 'bodyStart') document.body.insertBefore(elem, document.body.firstChild)\n            else document.body.insertBefore(elem, null)\n        })\n    }\n\n    serializeAttrs (attrs: MetapatcherHtmlTagAttrs = {}): string {\n        return Object.keys(attrs).reduce((memo, name) => {\n            memo += ` ${name}=\"${attrs[name]}\"`\n            return memo\n        }, '')\n    }\n\n    findMimeType(path: string): string | undefined {\n        const lastind = path.lastIndexOf('.')\n        if (lastind < 1) return undefined\n\n        const ext = path.slice(lastind + 1)\n        if (!ext) return undefined\n\n        return Object.hasOwn(this.mimeTypesByExtension, ext)\n            ? this.mimeTypesByExtension[ext as keyof typeof this.mimeTypesByExtension]\n            : undefined\n    }\n}\n\nexport type MetapatcherFeatures = 'structuredData' |\n    'webAppManifest' |\n    'msTags' |\n    'appleTags' |\n    'openGraphTags' |\n    'twitterTags'\n\nexport interface MetapatcherSettings {\n    idPrefix?: string\n}\n\nexport type MetapatcherHtmlTagAttrs = Record<string, string | boolean>\n\nexport interface MetapatcherSetStylesheetAttrs {\n    id: string\n    readonly rel?: 'stylesheet'\n    href: string\n    media?: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherSetStylesheetSettings {\n    location?: 'headEnd' | 'bodyEnd' | 'bodyStart'\n    timeout?: number\n}\n\nexport interface MetapatcherSetJsAttrs {\n    id: string\n    type?: string\n    src: string\n    async?: boolean\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherSetJsSettings {\n    location?: 'headEnd' | 'bodyEnd' | 'bodyStart'\n    waitForLoad?: string\n    timeout?: number\n}\n\nexport interface MetapatcherSetSettings {\n    void?: boolean\n}\n\nexport interface MetapatcherCanonicalLinkAttrs {\n    readonly rel?: 'canonical'\n    id?: string\n    href: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherMobileVariantLinkAttrs {\n    readonly rel?: 'alternate'\n    id?: string\n    media: string\n    href: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherLocalVersionLinkAttrs {\n    readonly rel?: 'alternate'\n    id?: string\n    hreflang: string\n    href: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherBreadcrumb {\n    title: string\n    url: string\n}\n\nexport interface MetapatcherSafariPinnedTabAttrs {\n    readonly rel?: 'mask-icon'\n    id?: string\n    href: string\n    color: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherFaviconAttrs {\n    readonly rel?: 'shortcut icon'\n    id?: string\n    href: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherRobotsAttrs {\n    readonly name?: 'robots'\n    id?: string\n    content: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherPreloadAttrs {\n    readonly rel?: 'preload'\n    id?: string\n    href: string\n    as?: MetapatcherPreloadAs\n    type?: string\n    media?: string\n    crossorigin?: boolean\n    [index: string]: string | boolean\n}\n\nexport type MetapatcherPreloadAs = 'audio' | 'document' | 'embed' | 'fetch' | 'font' | 'image' | 'object' | 'script' | 'style' | 'track' | 'worker' | 'video'\n\nexport interface MetapatcherPrefetchAttrs {\n    readonly rel?: 'prefetch'\n    id?: string\n    href: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherPreconnectAttrs {\n    readonly rel?: 'preconnect'\n    id?: string\n    href: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherDnsPrefetchAttrs {\n    readonly rel?: 'dns-prefetch'\n    id?: string\n    href: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherProjectParams {\n    favicon?: string | MetapatcherFaviconAttrs\n    name?: string\n    url?: string\n    robots?: string | MetapatcherRobotsAttrs\n    logo?: string\n    themeColor?: string\n    primaryColor?: string\n    backgroundColor?: string\n    twitterSite?: string\n    safariPinnedTab?: MetapatcherSafariPinnedTabAttrs\n    icons?: string[]\n    email?: string\n    phone?: string\n    description?: string\n    image?: string\n    legalName?: string\n    address?: {\n        country: string\n        region?: string\n        city?: string\n        postalCode?: string\n        street?: string\n    }\n}\n\nexport interface MetapatcherMsApplicationConfigAttrs {\n    readonly name?: 'msapplication-config'\n    id?: string\n    content: string\n    [index: string]: string | boolean\n}\n\nexport interface MetapatcherPageParams {\n    title?: string\n    description?: string\n    path?: string\n    image?: string\n    robots?: string | MetapatcherRobotsAttrs\n    locale?: string\n    canonical?: string\n    mobileVariant?: string\n    localVersions?: MetapatcherLocalVersionLinkAttrs[],\n    breadcrumb?: MetapatcherBreadcrumb[]\n}\n\nexport interface MetapatcherPageImage {\n    path: string\n    width?: string | number\n    height?: string | number\n}\n\nexport const metapatcher = new Metapatcher()\n"],"names":["Metapatcher","constructor","_defineProperty","this","preload","prefetch","preconnect","dnsPrefetch","document","svg","png","jpg","jpeg","ico","gif","webp","bmp","features","setMsApplicationConfig","configure","settings","idPrefix","includes","id","set","name","content","idTw","setIcons","list","msTileIconSizes","Object","keys","msTilesNamingMap","url","mimeType","findMimeType","sizeMatches","match","reImageSizeFromStr","size","length","undefined","webAppManifestIconSizes","idWam","removeOne","rel","href","sizes","type","appleTouchIconSizes","idApple","idMs","setPageDetails","params","_params$locale","title","setPageTitle","description","setPageDescription","path","setPageUrl","image","setPageImage","robots","setRobots","locale","setPageLocale","canonical","setCanonical","localVersions","setLocalVersions","breadcrumb","setBreadcrumb","setDocumentTitle","idOg","property","param","img","idOgw","width","toString","idOgh","height","replace","isDomAvailable","documentElement","setAttribute","setProjectDetails","favicon","setFavicon","setProjectName","setProjectUrl","themeColor","setThemeColor","twitterSite","setTwitterSite","safariPinnedTab","setSafariPinnedTab","icons","json","logo","email","phone","legalName","address","country","region","city","postalCode","street","_data","JSON","stringify","setJsonLdDom","setJsonLdMemory","colorHexCode","username","addDnsPrefetch","idCounters","attrs","assign","addPreconnect","addPrefetch","addPreload","predicate","line","memory","some","map","concat","push","_attrs","setAppleStatusBarStyle","data","itemListElement","_ref","ind","position","item","elem","createElement","text","head","insertBefore","setMeta","setMobileVariant","media","currentLang","arguments","removeMany","hreflang","__attrs","setJsonLd","str","tagName","queries","key","filter","every","query","reduce","memo","querySelector","parentNode","removeChild","elems","querySelectorAll","forEach","dump","join","flushMemory","toLowerCase","isVoid","hasOwn","void","htmlVoidElements","setDom","setMemory","setElementAttrs","closingTag","html","serializeAttrs","v","setScript","location","waitForLoad","timeout","Promise","resolve","reject","setTimeout","Error","src","rest","_objectWithoutProperties","_excluded","addEventListener","clearTimeout","interval","setInterval","window","clearInterval","_event","body","firstChild","setStylesheet","_excluded2","_attrs$media","lastind","lastIndexOf","ext","slice","mimeTypesByExtension","metapatcher"],"mappings":"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"}